exports.ids=[4],exports.modules={CXQP:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ShoppingListModule",(function(){return ShoppingListModule}));var fesm2015_forms=__webpack_require__("3Pt+"),ngrx_store=__webpack_require__("l7P3"),router=__webpack_require__("tyNb"),shopping_list_actions=__webpack_require__("sPvp"),core=__webpack_require__("fXoL"),logging_service=__webpack_require__("7F1V");class Ingredient{constructor(name,amount){this.name=name,this.amount=amount}}const _c0=["f"];class shopping_edit_component_ShoppingEditComponent{constructor(store){this.store=store,this.editMode=!1}ngOnInit(){this.subscription=this.store.select("shoppingList").subscribe(stateData=>{const index=stateData.editIndex;index>-1?(this.editMode=!0,this.editedItem=stateData.ingredients[index],this.slForm.setValue({name:this.editedItem.name,amount:this.editedItem.amount})):this.editMode=!1})}ngOnDestroy(){this.subscription.unsubscribe(),this.store.dispatch(shopping_list_actions.e())}onSubmit(form){const vlue=form.value,newIngridient=new Ingredient(vlue.name,vlue.amount);this.editMode?this.store.dispatch(shopping_list_actions.f({ingredient:newIngridient})):this.store.dispatch(shopping_list_actions.a({ingredient:newIngridient})),this.onClear()}onClear(){this.editMode=!1,this.slForm.reset(),this.store.dispatch(shopping_list_actions.e())}onDelete(){this.store.dispatch(shopping_list_actions.c()),this.onClear()}}shopping_edit_component_ShoppingEditComponent.\u0275fac=function ShoppingEditComponent_Factory(t){return new(t||shopping_edit_component_ShoppingEditComponent)(core.Gc(ngrx_store.h))},shopping_edit_component_ShoppingEditComponent.\u0275cmp=core.Ac({type:shopping_edit_component_ShoppingEditComponent,selectors:[["app-shopping-edit"]],viewQuery:function ShoppingEditComponent_Query(rf,ctx){var _t;(1&rf&&core.id(_c0,!0),2&rf)&&(core.Yc(_t=core.Rc())&&(ctx.slForm=_t.first))},decls:21,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],["f","ngForm"],[1,"col-sm-5","form-group"],["for","name"],["type","text","id","name","name","name","ngModel","","required","",1,"form-control"],[1,"col-sm-2","form-group"],["for","amount"],["type","number","id","amount","name","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function ShoppingEditComponent_Template(rf,ctx){if(1&rf){const _r1=core.Kc();core.Jc(0,"div",0),core.Jc(1,"div",1),core.Jc(2,"form",2,3),core.Qc("ngSubmit",(function ShoppingEditComponent_Template_form_ngSubmit_2_listener(){core.ad(_r1);const _r0=core.Zc(3);return ctx.onSubmit(_r0)})),core.Jc(4,"div",0),core.Jc(5,"div",4),core.Jc(6,"label",5),core.ed(7,"Name"),core.Ic(),core.Hc(8,"input",6),core.Ic(),core.Jc(9,"div",7),core.Jc(10,"label",8),core.ed(11,"Amount"),core.Ic(),core.Hc(12,"input",9),core.Ic(),core.Ic(),core.Jc(13,"div",0),core.Jc(14,"div",1),core.Jc(15,"button",10),core.ed(16),core.Ic(),core.Jc(17,"button",11),core.Qc("click",(function ShoppingEditComponent_Template_button_click_17_listener(){return ctx.onDelete()})),core.ed(18,"Delete"),core.Ic(),core.Jc(19,"button",12),core.Qc("click",(function ShoppingEditComponent_Template_button_click_19_listener(){return ctx.onClear()})),core.ed(20,"Clear"),core.Ic(),core.Ic(),core.Ic(),core.Ic(),core.Ic(),core.Ic()}if(2&rf){const _r0=core.Zc(3);core.wc(15),core.Vc("disabled",!_r0.valid),core.wc(1),core.fd(ctx.editMode?"Update":"Add"),core.wc(1),core.Vc("disabled",!ctx.editMode)}},directives:[fesm2015_forms.u,fesm2015_forms.m,fesm2015_forms.n,fesm2015_forms.a,fesm2015_forms.l,fesm2015_forms.o,fesm2015_forms.s,fesm2015_forms.p,fesm2015_forms.q],styles:[""]});var common=__webpack_require__("ofXK");function ShoppingListComponent_a_5_Template(rf,ctx){if(1&rf){const _r4=core.Kc();core.Jc(0,"a",4),core.Qc("click",(function ShoppingListComponent_a_5_Template_a_click_0_listener(){core.ad(_r4);const i_r2=ctx.index;return core.Sc().onEditItem(i_r2)})),core.ed(1),core.Ic()}if(2&rf){const ingredient_r1=ctx.$implicit;core.wc(1),core.hd(" ",ingredient_r1.name," (",ingredient_r1.amount,") ")}}class shopping_list_component_ShoppingListComponent{constructor(loggingService,store){this.loggingService=loggingService,this.store=store}ngOnInit(){this.ingredients=this.store.select("shoppingList"),this.loggingService.printLog("Hello from ShoppingListComponent ngOnInit")}onEditItem(index){this.store.dispatch(shopping_list_actions.d({index:index}))}}shopping_list_component_ShoppingListComponent.\u0275fac=function ShoppingListComponent_Factory(t){return new(t||shopping_list_component_ShoppingListComponent)(core.Gc(logging_service.a),core.Gc(ngrx_store.h))},shopping_list_component_ShoppingListComponent.\u0275cmp=core.Ac({type:shopping_list_component_ShoppingListComponent,selectors:[["app-shopping-list"]],decls:7,vars:3,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["class","list-group-item",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",3,"click"]],template:function ShoppingListComponent_Template(rf,ctx){1&rf&&(core.Jc(0,"div",0),core.Jc(1,"div",1),core.Hc(2,"app-shopping-edit"),core.Hc(3,"hr"),core.Jc(4,"ul",2),core.dd(5,ShoppingListComponent_a_5_Template,2,2,"a",3),core.Tc(6,"async"),core.Ic(),core.Ic(),core.Ic()),2&rf&&(core.wc(5),core.Vc("ngForOf",core.Uc(6,1,ctx.ingredients).ingredients))},directives:[shopping_edit_component_ShoppingEditComponent,common.i],pipes:[common.b],styles:[""]});const routes=[{path:"",component:shopping_list_component_ShoppingListComponent}];class ShoppingListRoutingModule{}ShoppingListRoutingModule.\u0275mod=core.Ec({type:ShoppingListRoutingModule}),ShoppingListRoutingModule.\u0275inj=core.Dc({factory:function ShoppingListRoutingModule_Factory(t){return new(t||ShoppingListRoutingModule)},imports:[[router.j.forChild(routes)],router.j]});var shared_module=__webpack_require__("PCNd");const initialState={ingredients:[new Ingredient("Apples",5),new Ingredient("Tomatoes",10)],editIndex:-1},shoppingListReducerPrivate=Object(ngrx_store.o)(initialState,Object(ngrx_store.q)(shopping_list_actions.a,(state,action)=>Object.assign(Object.assign({},state),{ingredients:state.ingredients.concat(action.ingredient)})),Object(ngrx_store.q)(shopping_list_actions.b,(state,action)=>Object.assign(Object.assign({},state),{ingredients:state.ingredients.concat(...action.ingredients)})),Object(ngrx_store.q)(shopping_list_actions.f,(state,action)=>Object.assign(Object.assign({},state),{editIndex:-1,ingredients:state.ingredients.map((ingredient,index)=>index===state.editIndex?Object.assign({},action.ingredient):ingredient)})),Object(ngrx_store.q)(shopping_list_actions.c,state=>Object.assign(Object.assign({},state),{editIndex:-1,ingredients:state.ingredients.filter((_,index)=>index!==state.editIndex)})),Object(ngrx_store.q)(shopping_list_actions.d,(state,action)=>Object.assign(Object.assign({},state),{editIndex:action.index})),Object(ngrx_store.q)(shopping_list_actions.e,state=>Object.assign(Object.assign({},state),{editIndex:-1})));class ShoppingListModule{}ShoppingListModule.\u0275mod=core.Ec({type:ShoppingListModule}),ShoppingListModule.\u0275inj=core.Dc({factory:function ShoppingListModule_Factory(t){return new(t||ShoppingListModule)},imports:[[fesm2015_forms.j,ShoppingListRoutingModule,ngrx_store.j.forFeature("shoppingList",(function shoppingListReducer(state,action){return shoppingListReducerPrivate(state,action)})),shared_module.a]]})},sPvp:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return addIngredient})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addIngredients})),__webpack_require__.d(__webpack_exports__,"f",(function(){return updateIngredient})),__webpack_require__.d(__webpack_exports__,"c",(function(){return deleteIngredient})),__webpack_require__.d(__webpack_exports__,"d",(function(){return startEdit})),__webpack_require__.d(__webpack_exports__,"e",(function(){return stopEdit}));var _ngrx_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("l7P3");const addIngredient=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__.n)("[Shopping List] Add Ingredient",Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__.r)()),addIngredients=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__.n)("[Shopping List] Add Ingredients",Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__.r)()),updateIngredient=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__.n)("[Shopping List] Update Ingredient",Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__.r)()),deleteIngredient=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__.n)("[Shopping List] Delete Ingredient"),startEdit=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__.n)("[Shopping List] Start Edit",Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__.r)()),stopEdit=Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_0__.n)("[Shopping List] Stop Edit")}};