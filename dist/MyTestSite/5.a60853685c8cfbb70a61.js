(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Yj9t:function(e,t,o){"use strict";o.r(t),o.d(t,"AuthModule",(function(){return f}));var n=o("3Pt+"),i=o("PCNd"),m=o("tyNb"),s=o("fXoL");let r=(()=>{class e{constructor(e){this.viewContainerRef=e}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(s.O))},e.\u0275dir=s.Cb({type:e,selectors:[["","appPlaceholder",""]]}),e})(),c=(()=>{class e{constructor(){this.closeAlert=new s.n}onCloseAlert(){this.closeAlert.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Bb({type:e,selectors:[["app-alert"]],inputs:{message:"message"},outputs:{closeAlert:"closeAlert"},decls:7,vars:1,consts:[[1,"backdrop",3,"click"],[1,"alert-box"],[1,"alert-box-actions"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(s.Kb(0,"div",0),s.Rb("click",(function(){return t.onCloseAlert()})),s.Jb(),s.Kb(1,"div",1),s.Kb(2,"p"),s.dc(3),s.Jb(),s.Kb(4,"div",2),s.Kb(5,"button",3),s.Rb("click",(function(){return t.onCloseAlert()})),s.dc(6,"Close"),s.Jb(),s.Jb(),s.Jb()),2&e&&(s.xb(3),s.ec(t.message))},styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.75);z-index:50}.alert-box[_ngcontent-%COMP%]{position:fixed;top:30ch;left:50%;margin-left:-30vw;width:60vw;padding:16px;z-index:100;background:#fff;box-shadow:2px 8px rgba(0,0,0,.26)}.alert-box-actions[_ngcontent-%COMP%]{text-align:right}"]}),e})();var a=o("qXBG"),l=o("ofXK");let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Bb({type:e,selectors:[["app-loading-spinner"]],decls:2,vars:0,consts:[[1,"loader"]],template:function(e,t){1&e&&(s.Kb(0,"div",0),s.dc(1,"Loading..."),s.Jb())},styles:[".loader[_ngcontent-%COMP%]{color:#1f0c70;font-size:20px;margin:100px auto;width:1em;height:1em;border-radius:50%;position:relative;text-indent:-9999em;animation:load4 1.3s linear infinite;transform:translateZ(0)}@keyframes load4{0%,to{box-shadow:0 -3em 0 .2em,2em -2em 0 0,3em 0 0 -1em,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em 0 0}12.5%{box-shadow:0 -3em 0 0,2em -2em 0 .2em,3em 0 0 0,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em 0 -1em}25%{box-shadow:0 -3em 0 -.5em,2em -2em 0 0,3em 0 0 .2em,2em 2em 0 0,0 3em 0 -1em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em 0 -1em}37.5%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0 0 0,2em 2em 0 .2em,0 3em 0 0,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em 0 -1em}50%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em 0 0,0 3em 0 .2em,-2em 2em 0 0,-3em 0 0 -1em,-2em -2em 0 -1em}62.5%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em 0 -1em,0 3em 0 0,-2em 2em 0 .2em,-3em 0 0 0,-2em -2em 0 -1em}75%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em 0 0,-3em 0 0 .2em,-2em -2em 0 0}87.5%{box-shadow:0 -3em 0 0,2em -2em 0 -1em,3em 0 0 -1em,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em 0 0,-3em 0 0 0,-2em -2em 0 .2em}}"]}),e})();function d(e,t){}function u(e,t){1&e&&(s.Kb(0,"div",14),s.Ib(1,"app-loading-spinner"),s.Jb())}const p=[{path:"",component:(()=>{class e{constructor(e,t,o){this.authService=e,this.router=t,this.componentFactoryResolver=o,this.isLogInMode=!0,this.isLoading=!1,this.error=null}ngOnDestroy(){this.closeAlert&&this.closeAlert.unsubscribe()}onSwitch(){this.isLogInMode=!this.isLogInMode}onSubmit(e){if(!e.valid)return;const t=e.value.email,o=e.value.password;let n;this.isLoading=!0,n=this.isLogInMode?this.authService.logIn(t,o):this.authService.signUp(t,o),n.subscribe(e=>{this.isLoading=!1,this.router.navigate(["/recipes"])},e=>{this.error=e,this.showAlertMessage(e),this.isLoading=!1}),e.reset()}onHandleException(){this.error=null}showAlertMessage(e){const t=this.componentFactoryResolver.resolveComponentFactory(c),o=this.alertHost.viewContainerRef;o.clear();const n=o.createComponent(t);n.instance.message=e,this.closeAlert=n.instance.closeAlert.subscribe(()=>{this.closeAlert.unsubscribe(),o.clear()})}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(a.a),s.Hb(m.c),s.Hb(s.j))},e.\u0275cmp=s.Bb({type:e,selectors:[["app-auth"]],viewQuery:function(e,t){var o;1&e&&s.hc(r,!0),2&e&&s.Xb(o=s.Sb())&&(t.alertHost=o.first)},decls:21,vars:4,consts:[["appPlaceholder",""],[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["style","position: fixed; left: 0; right: 0; z-index: 1;",4,"ngIf"],[2,"z-index","0"],[3,"submit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],[2,"position","fixed","left","0","right","0","z-index","1"]],template:function(e,t){if(1&e){const e=s.Lb();s.cc(0,d,0,0,"ng-template",0),s.Kb(1,"div",1),s.Kb(2,"div",2),s.cc(3,u,2,0,"div",3),s.Kb(4,"div",4),s.Kb(5,"form",5,6),s.Rb("submit",(function(){s.Zb(e);const o=s.Yb(6);return t.onSubmit(o)})),s.Kb(7,"div",7),s.Kb(8,"label",8),s.dc(9,"E-Mail"),s.Jb(),s.Ib(10,"input",9),s.Jb(),s.Kb(11,"div",7),s.Kb(12,"label",10),s.dc(13,"Password"),s.Jb(),s.Ib(14,"input",11),s.Jb(),s.Kb(15,"div"),s.Kb(16,"button",12),s.dc(17),s.Jb(),s.dc(18," | "),s.Kb(19,"button",13),s.Rb("click",(function(){return t.onSwitch()})),s.dc(20),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb(),s.Jb()}if(2&e){const e=s.Yb(6);s.xb(3),s.Ub("ngIf",t.isLoading),s.xb(13),s.Ub("disabled",!e.valid),s.xb(1),s.ec(t.isLogInMode?"Login":"Sign Up"),s.xb(3),s.ec(t.isLogInMode?"Switch to Sign Up":"Switch to Login")}},directives:[r,l.i,n.u,n.m,n.n,n.a,n.l,n.o,n.s,n.b,n.k,b],encapsulation:2}),e})()}];let h=(()=>{class e{}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(t){return new(t||e)},imports:[[m.f.forChild(p)],m.f]}),e})(),f=(()=>{class e{}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(t){return new(t||e)},imports:[[n.j,i.a,h]]}),e})()}}]);